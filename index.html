<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MS Search Topbar</title>
<style>
  /* Importing a modern system font stack */
  body {
    margin: 0;
    background-color: #0a0a0a;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  }

  /* Top bar container */
  .topbar {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 10px 20px;
    background: linear-gradient(90deg, #161616 0%, #222222 100%);
    box-shadow: 0 2px 5px rgba(0,0,0,0.8);
    border-bottom: 1px solid #222;
  }

  /* MS logo box */
  .logo-box {
    width: 60px;
    height: 40px;
    background-color: #111;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
      inset 0 0 4px #333,
      0 1px 2px rgba(255,255,255,0.04);
    cursor: default;
    user-select: none;
  }

  /* White line MS logo - using SVG lines */
  svg.ms-logo {
    width: 40px;
    height: 24px;
    stroke: white;
    stroke-width: 1.3;
    stroke-linecap: round;
  }

  /* Loader box starts as small circle, expands to wide rectangular search container */
  .loader-box {
    background-color: #111;
    box-shadow:
      inset 0 0 6px #333,
      0 1px 2px rgba(255,255,255,0.04);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: visible;

    width: 40px;
    height: 40px;
    border-radius: 50%;

    transition:
      width 0.4s ease,
      border-radius 0.4s ease;
  }
  /* Expanded state */
  .loader-box.expanded {
    width: 180px;
    border-radius: 10px;
  }

  /* Circular spinner container */
  .circular-spinner {
    position: relative;
    width: 24px;
    height: 24px;
  }

  /* Each thin line in spinner */
  .spinner-line {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 2px;
    height: 7px;
    background: white;
    border-radius: 1px;
    transform-origin: center bottom;
    opacity: 0.15;
    animation: fadeAnim 1.2s linear infinite;
  }
  /* 12 lines spaced every 30 degrees */
  .spinner-line:nth-child(1)  { transform: rotate(0deg) translate(-50%, -100%);  animation-delay: 0s;    }
  .spinner-line:nth-child(2)  { transform: rotate(30deg) translate(-50%, -100%); animation-delay: 0.1s;  }
  .spinner-line:nth-child(3)  { transform: rotate(60deg) translate(-50%, -100%); animation-delay: 0.2s;  }
  .spinner-line:nth-child(4)  { transform: rotate(90deg) translate(-50%, -100%); animation-delay: 0.3s;  }
  .spinner-line:nth-child(5)  { transform: rotate(120deg) translate(-50%, -100%);animation-delay: 0.4s;  }
  .spinner-line:nth-child(6)  { transform: rotate(150deg) translate(-50%, -100%);animation-delay: 0.5s;  }
  .spinner-line:nth-child(7)  { transform: rotate(180deg) translate(-50%, -100%);animation-delay: 0.6s;  }
  .spinner-line:nth-child(8)  { transform: rotate(210deg) translate(-50%, -100%);animation-delay: 0.7s;  }
  .spinner-line:nth-child(9)  { transform: rotate(240deg) translate(-50%, -100%);animation-delay: 0.8s;  }
  .spinner-line:nth-child(10) { transform: rotate(270deg) translate(-50%, -100%);animation-delay: 0.9s;  }
  .spinner-line:nth-child(11) { transform: rotate(300deg) translate(-50%, -100%);animation-delay: 1.0s;  }
  .spinner-line:nth-child(12) { transform: rotate(330deg) translate(-50%, -100%);animation-delay: 1.1s;  }

  @keyframes fadeAnim {
    0%   { opacity: 1; }
    100% { opacity: 0.15; }
  }

  /* Search input style after loader finishes */
  .search-input {
    width: 160px;
    height: 32px;
    border-radius: 10px;
    border: 1px solid #444;
    background-color: #111;
    color: white;
    font-size: 16px;
    padding: 0 12px;
    outline-offset: 1px;
    outline-color: #66aaff;
    transition: border-color 0.3s ease, outline-color 0.3s ease;
    font-family: inherit;
  }
  .search-input::placeholder {
    color: #888;
  }
  .search-input:focus {
    border-color: #66aaff;
    outline: 2px solid #66aaff;
  }
</style>
</head>
<body>
  <div class="topbar" role="banner" aria-label="Top navigation bar">
    <div class="logo-box" aria-label="MS logo">
      <svg class="ms-logo" viewBox="0 0 40 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <!-- Letter M -->
        <path d="M2 22 L2 2 L10 18 L18 2 L18 22" />
        <!-- Letter S -->
        <path d="M22 6
                 C22 6, 30 6, 30 12
                 C30 18, 22 18, 22 18" />
      </svg>
    </div>

    <div class="loader-box" role="status" aria-live="polite" aria-atomic="true" aria-label="Loading search">
      <div class="circular-spinner" aria-hidden="true">
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
        <div class="spinner-line"></div>
      </div>
    </div>
  </div>

<script>
  // After 3 seconds expand loader box then show input
  setTimeout(() => {
    const loaderBox = document.querySelector('.loader-box');

    // Add expanded class to animate width and border-radius
    loaderBox.classList.add('expanded');

    // Wait for transition (400ms) then replace content with input
    setTimeout(() => {
      loaderBox.innerHTML = '';

      const input = document.createElement('input');
      input.type = 'search';
      input.className = 'search-input';
      input.placeholder = 'Search...';
      input.setAttribute('aria-label', 'Search');
      loaderBox.appendChild(input);

      input.focus();
    }, 400);

  }, 3000);
</script>
</body>
</html>

